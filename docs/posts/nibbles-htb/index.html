<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Nibbles | PwndSide</title><meta name=keywords content="web,privesc,linux"><meta name=description content="This room is a Linux environment running a website powered by the Nibbleblog engine, and the version we are using has a shell vulnerability."><meta name=author content="Ayman Boulaich"><link rel=canonical href=https://canonical.url/to/page><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.3613efbd0b1772781e8f49935e973cae632a7f61471c05b17be155505ccf87b5.css integrity="sha256-NhPvvQsXcngej0mTXpc8rmMqf2FHHAWxe+FVUFzPh7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://pwndside.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Nibbles"><meta property="og:description" content="This room is a Linux environment running a website powered by the Nibbleblog engine, and the version we are using has a shell vulnerability."><meta property="og:type" content="article"><meta property="og:url" content="https://pwndside.github.io/posts/nibbles-htb/"><meta property="og:image" content="https://pwndside.github.io/%3Cimage%20path/url%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-04T13:02:46+02:00"><meta property="article:modified_time" content="2023-07-04T13:02:46+02:00"><meta property="og:site_name" content="PwndSide"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://pwndside.github.io/%3Cimage%20path/url%3E"><meta name=twitter:title content="Nibbles"><meta name=twitter:description content="This room is a Linux environment running a website powered by the Nibbleblog engine, and the version we are using has a shell vulnerability."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://pwndside.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Nibbles","item":"https://pwndside.github.io/posts/nibbles-htb/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nibbles","name":"Nibbles","description":"This room is a Linux environment running a website powered by the Nibbleblog engine, and the version we are using has a shell vulnerability.","keywords":["web","privesc","linux"],"articleBody":"Room Information Room name: Nibbles Difficulty level: Easy Room link: https://app.hackthebox.com/machines/Nibbles Tools Used Nmap Gobuster Port Scanning PORT STATE SERVICE REASON VERSION 22/tcp open ssh syn-ack ttl 63 OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 (Ubuntu Linux; protocol 2.0) | ssh-hostkey: | 2048 c4:f8:ad:e8:f8:04:77:de:cf:15:0d:63:0a:18:7e:49 (RSA) | ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD8ArTOHWzqhwcyAZWc2CmxfLmVVTwfLZf0zhCBREGCpS2WC3NhAKQ2zefCHCU8XTC8hY9ta5ocU+p7S52OGHlaG7HuA5Xlnihl1INNsMX7gpNcfQEYnyby+hjHWPLo4++fAyO/lB8NammyA13MzvJy8pxvB9gmCJhVPaFzG5yX6Ly8OIsvVDk+qVa5eLCIua1E7WGACUlmkEGljDvzOaBdogMQZ8TGBTqNZbShnFH1WsUxBtJNRtYfeeGjztKTQqqj4WD5atU8dqV/iwmTylpE7wdHZ+38ckuYL9dmUPLh4Li2ZgdY6XniVOBGthY5a2uJ2OFp2xe1WS9KvbYjJ/tH | 256 22:8f:b1:97:bf:0f:17:08:fc:7e:2c:8f:e9:77:3a:48 (ECDSA) | ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPiFJd2F35NPKIQxKMHrgPzVzoNHOJtTtM+zlwVfxzvcXPFFuQrOL7X6Mi9YQF9QRVJpwtmV9KAtWltmk3qm4oc= | 256 e6:ac:27:a3:b5:a9:f1:12:3c:34:a5:5d:5b:eb:3d:e9 (ED25519) |_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIC/RjKhT/2YPlCgFQLx+gOXhC6W3A3raTzjlXQMT8Msk 80/tcp open http syn-ack ttl 63 Apache httpd 2.4.18 ((Ubuntu)) |_http-title: Site doesn't have a title (text/html). | http-methods: |_ Supported Methods: GET HEAD POST OPTIONS |_http-server-header: Apache/2.4.18 (Ubuntu) Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel The results shows that we have two open ports one running http service at port 80 and other and other running a ssh service at port 22.\nEnumeration Let’s focus on the website.\nThe website shows a Hello World message only.\nIf we go to the source code we can see that there is a commented line that told us where is the real website running.\nWith gobuster I am going to fuzz the website.\ngobuster dir --url http://10.10.10.75/nibbleblog -w ~/Documents/wordlists/KaliLists/dirb/common.txt -x php,js,css,py,html,cgi,sh,txt =============================================================== Gobuster v3.5 by OJ Reeves (@TheColonial) \u0026 Christian Mehlmauer (@firefart) =============================================================== [+] Url: http://10.10.10.75/nibbleblog [+] Method: GET [+] Threads: 10 [+] Wordlist: /Users/aymanboulaichdahhou/Documents/wordlists/KaliLists/dirb/common.txt [+] Negative Status codes: 404 [+] User Agent: gobuster/3.5 [+] Extensions: css,py,html,cgi,sh,txt,php,js [+] Timeout: 10s =============================================================== 2023/07/04 00:02:39 Starting gobuster in directory enumeration mode =============================================================== /.php (Status: 403) [Size: 301] /.html (Status: 403) [Size: 302] /.hta (Status: 403) [Size: 301] /.hta.txt (Status: 403) [Size: 305] /.hta.php (Status: 403) [Size: 305] /.hta.js (Status: 403) [Size: 304] /.hta.css (Status: 403) [Size: 305] /.hta.html (Status: 403) [Size: 306] /.hta.py (Status: 403) [Size: 304] /.hta.cgi (Status: 403) [Size: 305] /.htaccess.html (Status: 403) [Size: 311] /.htaccess.cgi (Status: 403) [Size: 310] /.hta.sh (Status: 403) [Size: 304] /.htaccess.sh (Status: 403) [Size: 309] /.htaccess (Status: 403) [Size: 306] /.htaccess.php (Status: 403) [Size: 310] /.htaccess.txt (Status: 403) [Size: 310] /.htaccess.js (Status: 403) [Size: 309] /.htaccess.css (Status: 403) [Size: 310] /.htaccess.py (Status: 403) [Size: 309] /.htpasswd (Status: 403) [Size: 306] /.htpasswd.cgi (Status: 403) [Size: 310] /.htpasswd.py (Status: 403) [Size: 309] /.htpasswd.html (Status: 403) [Size: 311] /.htpasswd.sh (Status: 403) [Size: 309] /.htpasswd.txt (Status: 403) [Size: 310] /.htpasswd.php (Status: 403) [Size: 310] /.htpasswd.js (Status: 403) [Size: 309] /.htpasswd.css (Status: 403) [Size: 310] /admin (Status: 301) [Size: 321] [--\u003e http://10.10.10.75/nibbleblog/admin/] /admin.php (Status: 200) [Size: 1401] /admin.php (Status: 200) [Size: 1401] /content (Status: 301) [Size: 323] [--\u003e http://10.10.10.75/nibbleblog/content/] /feed.php (Status: 200) [Size: 302] /index.php (Status: 200) [Size: 2987] /index.php (Status: 200) [Size: 2987] /install.php (Status: 200) [Size: 78] /languages (Status: 301) [Size: 325] [--\u003e http://10.10.10.75/nibbleblog/languages/] /LICENSE.txt (Status: 200) [Size: 35148] /plugins (Status: 301) [Size: 323] [--\u003e http://10.10.10.75/nibbleblog/plugins/] /README (Status: 200) [Size: 4628] /sitemap.php (Status: 200) [Size: 401] /themes (Status: 301) [Size: 322] [--\u003e http://10.10.10.75/nibbleblog/themes/] /update.php (Status: 200) [Size: 1622] We can find some useful information about the software of the website in the README file.\nWe can see that is performing nibbleblog which is a blogging engine powered by PHP and the version that is using is the v4.0.3.\nExploiting Let’s see if there are some vulns for that version.\nIn google I found one article that don’t mention metasploit.\nThis article explain how works a shell vuln that helps you to do RCE with a reverse shell. The article explain that if we have credentials we can take advantage of the my image plugin preinstalled in all the nibbleblogs with our version to upload a php reverse shell.\nNow our problem is the credentials if we navigate to http://10.10.10.75/nibbleblog/admin.php we need the credentials to manage the website.\nI tried the default passwords first admin/- -/admin admin/nibbles nibbles/admin nibbles/- -/nibbles.\nI hace managed to enter with admin/nibbles and without bruteforcing the website.\nWe need now to navigate to Plugins \u003e Mi image \u003e Config as says the article.\nThe vuln’s article says that we need to put the reverse shell as a image and ignore the warnings I uploaded this reverse shell.\nLet’s set up a listener in the port 4444\nnc -lv 4444 Once done we need to move to http://10.10.10.75/nibbleblog/content/private/plugins/my_image/image.php\nGaining an Initial Foothold We are in now with user privileges.\nUser’s flag\nEscalating Privilege If we use sudo -l we observe a .sh that can be ran by sudo without password this .sh is found at /home/nibbler/personal/stuff/monitor.sh\nIf we unzip the zip we can find this .sh and modifying his content to “/bin/bash” we can run a shell with root privilege thanks to the sudo command.\nsudo /home/nibbler/personal/stuff/monitor.sh Let’s check if we are root users now.\nRoot’s flag\nLessons Learned What insights did you gain from the room?\nI learned the importance of changing the default credentials if this thing was changed maybe the exploitation of the machine gonna be more harder.\nWere there any novel tools or techniques employed?\nOther way to exploit the sudo -l by modifying the content of a .sh which let us have privesc.\nThank you for reading, and happy hacking! 😄\n","wordCount":"816","inLanguage":"en","image":"https://pwndside.github.io/%3Cimage%20path/url%3E","datePublished":"2023-07-04T13:02:46+02:00","dateModified":"2023-07-04T13:02:46+02:00","author":{"@type":"Person","name":"Ayman Boulaich"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://pwndside.github.io/posts/nibbles-htb/"},"publisher":{"@type":"Organization","name":"PwndSide","logo":{"@type":"ImageObject","url":"https://pwndside.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://pwndside.github.io/ accesskey=h title="PwndSide (Alt + H)"><img src=https://pwndside.github.io/apple-touch-icon.png alt aria-label=logo height=35>PwndSide</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://pwndside.github.io/categories/hackthebox title=HackTheBox><span>HackTheBox</span></a></li><li><a href=https://pwndside.github.io/categories/ctf title="CTF's"><span>CTF's</span></a></li><li><a href=https://pwndside.github.io/about/whoami/ title=whoami><span>whoami</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://pwndside.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://pwndside.github.io/posts/>Posts</a></div><h1 class=post-title>Nibbles</h1><div class=post-description>This room is a Linux environment running a website powered by the Nibbleblog engine, and the version we are using has a shell vulnerability.</div><div class=post-meta><span title='2023-07-04 13:02:46 +0200 CEST'>July 4, 2023</span>&nbsp;·&nbsp;4 min&nbsp;·&nbsp;816 words&nbsp;·&nbsp;Ayman Boulaich&nbsp;|&nbsp;<a href=https://github.com/pwndside/pwndside.github.io/content/posts/nibbles-htb.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#room-information>Room Information</a></li><li><a href=#tools-used>Tools Used</a></li><li><a href=#port-scanning>Port Scanning</a></li><li><a href=#enumeration>Enumeration</a></li><li><a href=#exploiting>Exploiting</a></li><li><a href=#gaining-an-initial-foothold>Gaining an Initial Foothold</a></li><li><a href=#escalating-privilege>Escalating Privilege</a></li><li><a href=#lessons-learned>Lessons Learned</a></li></ul></nav></div></details></div><div class=post-content><h2 id=room-information>Room Information<a hidden class=anchor aria-hidden=true href=#room-information>#</a></h2><ul><li>Room name: Nibbles</li><li>Difficulty level: Easy</li><li>Room link: <a href=https://app.hackthebox.com/machines/Nibbles>https://app.hackthebox.com/machines/Nibbles</a></li></ul><p><img loading=lazy src=/HTB/nibbles-icon.png alt=Untitled></p><h2 id=tools-used>Tools Used<a hidden class=anchor aria-hidden=true href=#tools-used>#</a></h2><ul><li>Nmap</li><li>Gobuster</li></ul><h2 id=port-scanning>Port Scanning<a hidden class=anchor aria-hidden=true href=#port-scanning>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>PORT   STATE SERVICE REASON         VERSION
</span></span><span class=line><span class=cl>22/tcp open  ssh     syn-ack ttl <span class=m>63</span> OpenSSH 7.2p2 Ubuntu 4ubuntu2.2 <span class=o>(</span>Ubuntu Linux<span class=p>;</span> protocol 2.0<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span> ssh-hostkey:
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=m>2048</span> c4:f8:ad:e8:f8:04:77:de:cf:15:0d:63:0a:18:7e:49 <span class=o>(</span>RSA<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span> ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQD8ArTOHWzqhwcyAZWc2CmxfLmVVTwfLZf0zhCBREGCpS2WC3NhAKQ2zefCHCU8XTC8hY9ta5ocU+p7S52OGHlaG7HuA5Xlnihl1INNsMX7gpNcfQEYnyby+hjHWPLo4++fAyO/lB8NammyA13MzvJy8pxvB9gmCJhVPaFzG5yX6Ly8OIsvVDk+qVa5eLCIua1E7WGACUlmkEGljDvzOaBdogMQZ8TGBTqNZbShnFH1WsUxBtJNRtYfeeGjztKTQqqj4WD5atU8dqV/iwmTylpE7wdHZ+38ckuYL9dmUPLh4Li2ZgdY6XniVOBGthY5a2uJ2OFp2xe1WS9KvbYjJ/tH
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=m>256</span> 22:8f:b1:97:bf:0f:17:08:fc:7e:2c:8f:e9:77:3a:48 <span class=o>(</span>ECDSA<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span> ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBPiFJd2F35NPKIQxKMHrgPzVzoNHOJtTtM+zlwVfxzvcXPFFuQrOL7X6Mi9YQF9QRVJpwtmV9KAtWltmk3qm4oc<span class=o>=</span>
</span></span><span class=line><span class=cl><span class=p>|</span>   <span class=m>256</span> e6:ac:27:a3:b5:a9:f1:12:3c:34:a5:5d:5b:eb:3d:e9 <span class=o>(</span>ED25519<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=p>|</span>_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIC/RjKhT/2YPlCgFQLx+gOXhC6W3A3raTzjlXQMT8Msk
</span></span><span class=line><span class=cl>80/tcp open  http    syn-ack ttl <span class=m>63</span> Apache httpd 2.4.18 <span class=o>((</span>Ubuntu<span class=o>))</span>
</span></span><span class=line><span class=cl><span class=p>|</span>_http-title: Site doesn<span class=err>&#39;</span>t have a title <span class=o>(</span>text/html<span class=o>)</span>.
</span></span><span class=line><span class=cl><span class=p>|</span> http-methods:
</span></span><span class=line><span class=cl><span class=p>|</span>_  Supported Methods: GET HEAD POST OPTIONS
</span></span><span class=line><span class=cl><span class=p>|</span>_http-server-header: Apache/2.4.18 <span class=o>(</span>Ubuntu<span class=o>)</span>
</span></span><span class=line><span class=cl>Service Info: OS: Linux<span class=p>;</span> CPE: cpe:/o:linux:linux_kernel
</span></span></code></pre></div><p>The results shows that we have two open ports one running http service at port 80 and other and other running a ssh service at port 22.</p><h2 id=enumeration>Enumeration<a hidden class=anchor aria-hidden=true href=#enumeration>#</a></h2><p>Let’s focus on the website.</p><p><img loading=lazy src=/HTB/nibbles-1.png alt=Untitled></p><p>The website shows a Hello World message only.</p><p><img loading=lazy src=/HTB/nibbles-2.png alt=Untitled></p><p>If we go to the source code we can see that there is a commented line that told us where is the real website running.</p><p><img loading=lazy src=/HTB/nibbles-3.png alt=Untitled></p><p>With gobuster I am going to fuzz the website.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>gobuster dir --url http://10.10.10.75/nibbleblog -w ~/Documents/wordlists/KaliLists/dirb/common.txt -x php,js,css,py,html,cgi,sh,txt
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>===============================================================</span>
</span></span><span class=line><span class=cl>Gobuster v3.5
</span></span><span class=line><span class=cl>by OJ Reeves <span class=o>(</span>@TheColonial<span class=o>)</span> <span class=p>&amp;</span> Christian Mehlmauer <span class=o>(</span>@firefart<span class=o>)</span>
</span></span><span class=line><span class=cl><span class=o>===============================================================</span>
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Url:                     http://10.10.10.75/nibbleblog
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Method:                  GET
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Threads:                 <span class=m>10</span>
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Wordlist:                /Users/aymanboulaichdahhou/Documents/wordlists/KaliLists/dirb/common.txt
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Negative Status codes:   <span class=m>404</span>
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> User Agent:              gobuster/3.5
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Extensions:              css,py,html,cgi,sh,txt,php,js
</span></span><span class=line><span class=cl><span class=o>[</span>+<span class=o>]</span> Timeout:                 <span class=nv>10s</span>
</span></span><span class=line><span class=cl><span class=o>===============================================================</span>
</span></span><span class=line><span class=cl>2023/07/04 00:02:39 Starting gobuster in directory enumeration <span class=nv>mode</span>
</span></span><span class=line><span class=cl><span class=o>===============================================================</span>
</span></span><span class=line><span class=cl>/.php                 <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 301<span class=o>]</span>
</span></span><span class=line><span class=cl>/.html                <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 302<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta                 <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 301<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.txt             <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 305<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.php             <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 305<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.js              <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 304<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.css             <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 305<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.html            <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 306<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.py              <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 304<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.cgi             <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 305<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.html       <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 311<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.cgi        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.hta.sh              <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 304<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.sh         <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 309<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess            <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 306<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.php        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.txt        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.js         <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 309<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.css        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htaccess.py         <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 309<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd            <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 306<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.cgi        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.py         <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 309<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.html       <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 311<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.sh         <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 309<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.txt        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.php        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.js         <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 309<span class=o>]</span>
</span></span><span class=line><span class=cl>/.htpasswd.css        <span class=o>(</span>Status: 403<span class=o>)</span> <span class=o>[</span>Size: 310<span class=o>]</span>
</span></span><span class=line><span class=cl>/admin                <span class=o>(</span>Status: 301<span class=o>)</span> <span class=o>[</span>Size: 321<span class=o>]</span> <span class=o>[</span>--&gt; http://10.10.10.75/nibbleblog/admin/<span class=o>]</span>
</span></span><span class=line><span class=cl>/admin.php            <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 1401<span class=o>]</span>
</span></span><span class=line><span class=cl>/admin.php            <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 1401<span class=o>]</span>
</span></span><span class=line><span class=cl>/content              <span class=o>(</span>Status: 301<span class=o>)</span> <span class=o>[</span>Size: 323<span class=o>]</span> <span class=o>[</span>--&gt; http://10.10.10.75/nibbleblog/content/<span class=o>]</span>
</span></span><span class=line><span class=cl>/feed.php             <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 302<span class=o>]</span>
</span></span><span class=line><span class=cl>/index.php            <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 2987<span class=o>]</span>
</span></span><span class=line><span class=cl>/index.php            <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 2987<span class=o>]</span>
</span></span><span class=line><span class=cl>/install.php          <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 78<span class=o>]</span>
</span></span><span class=line><span class=cl>/languages            <span class=o>(</span>Status: 301<span class=o>)</span> <span class=o>[</span>Size: 325<span class=o>]</span> <span class=o>[</span>--&gt; http://10.10.10.75/nibbleblog/languages/<span class=o>]</span>
</span></span><span class=line><span class=cl>/LICENSE.txt          <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 35148<span class=o>]</span>
</span></span><span class=line><span class=cl>/plugins              <span class=o>(</span>Status: 301<span class=o>)</span> <span class=o>[</span>Size: 323<span class=o>]</span> <span class=o>[</span>--&gt; http://10.10.10.75/nibbleblog/plugins/<span class=o>]</span>
</span></span><span class=line><span class=cl>/README               <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 4628<span class=o>]</span>
</span></span><span class=line><span class=cl>/sitemap.php          <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 401<span class=o>]</span>
</span></span><span class=line><span class=cl>/themes               <span class=o>(</span>Status: 301<span class=o>)</span> <span class=o>[</span>Size: 322<span class=o>]</span> <span class=o>[</span>--&gt; http://10.10.10.75/nibbleblog/themes/<span class=o>]</span>
</span></span><span class=line><span class=cl>/update.php           <span class=o>(</span>Status: 200<span class=o>)</span> <span class=o>[</span>Size: 1622<span class=o>]</span>
</span></span></code></pre></div><p>We can find some useful information about the software of the website in the README file.</p><p><img loading=lazy src=/HTB/nibbles-4.png alt=Untitled></p><p>We can see that is performing nibbleblog which is a blogging engine powered by PHP and the version that is using is the v4.0.3.</p><p><img loading=lazy src=/HTB/nibbles-5.png alt=Untitled></p><h2 id=exploiting>Exploiting<a hidden class=anchor aria-hidden=true href=#exploiting>#</a></h2><p>Let’s see if there are some vulns for that version.</p><p><img loading=lazy src=/HTB/nibbles-6.png alt=Untitled></p><p>In google I found one <a href=https://packetstormsecurity.com/files/133425/NibbleBlog-4.0.3-Shell-Upload.html>article</a> that don’t mention metasploit.</p><p>This article explain how works a shell vuln that helps you to do RCE with a reverse shell. The article explain that if we have credentials we can take advantage of the my image plugin preinstalled in all the nibbleblogs with our version to upload a php reverse shell.</p><p>Now our problem is the credentials if we navigate to http://10.10.10.75/nibbleblog/admin.php we need the credentials to manage the website.</p><p><img loading=lazy src=/HTB/nibbles-7.png alt=Untitled></p><p>I tried the default passwords first admin/- -/admin admin/nibbles nibbles/admin nibbles/- -/nibbles.</p><p>I hace managed to enter with admin/nibbles and without bruteforcing the website.</p><p>We need now to navigate to Plugins > Mi image > Config as says the article.</p><p><img loading=lazy src=/HTB/nibbles-8.png alt=Untitled></p><p>The vuln’s article says that we need to put the reverse shell as a image and ignore the warnings I uploaded this <a href=https://pentestmonkey.net/tools/web-shells/php-reverse-shell>reverse shell</a>.</p><p>Let’s set up a listener in the port 4444</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>nc -lv <span class=m>4444</span>
</span></span></code></pre></div><p>Once done we need to move to http://10.10.10.75/nibbleblog/content/private/plugins/my_image/image.php</p><h2 id=gaining-an-initial-foothold>Gaining an Initial Foothold<a hidden class=anchor aria-hidden=true href=#gaining-an-initial-foothold>#</a></h2><p>We are in now with user privileges.</p><p><img loading=lazy src=/HTB/nibbles-9.png alt=Untitled></p><p><strong>User’s flag</strong></p><p><img loading=lazy src=/HTB/nibbles-10.png alt=Untitled></p><h2 id=escalating-privilege>Escalating Privilege<a hidden class=anchor aria-hidden=true href=#escalating-privilege>#</a></h2><p>If we use sudo -l we observe a .sh that can be ran by sudo without password this .sh is found at /home/nibbler/personal/stuff/monitor.sh</p><p><img loading=lazy src=/HTB/nibbles-11.png alt=Untitled></p><p>If we unzip the zip we can find this .sh and modifying his content to “/bin/bash” we can run a shell with root privilege thanks to the sudo command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo /home/nibbler/personal/stuff/monitor.sh
</span></span></code></pre></div><p>Let’s check if we are root users now.</p><p><img loading=lazy src=/HTB/nibbles-12.png alt=Untitled></p><p><strong>Root’s flag</strong></p><p><img loading=lazy src=/HTB/nibbles-13.png alt=Untitled></p><h2 id=lessons-learned>Lessons Learned<a hidden class=anchor aria-hidden=true href=#lessons-learned>#</a></h2><ul><li><p>What insights did you gain from the room?</p><p>I learned the importance of changing the default credentials if this thing was changed maybe the exploitation of the machine gonna be more harder.</p></li><li><p>Were there any novel tools or techniques employed?</p><p>Other way to exploit the sudo -l by modifying the content of a .sh which let us have privesc.</p></li></ul><p><strong>Thank you for reading, and happy hacking! 😄</strong></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://pwndside.github.io/tags/web/>web</a></li><li><a href=https://pwndside.github.io/tags/privesc/>privesc</a></li><li><a href=https://pwndside.github.io/tags/linux/>linux</a></li></ul><nav class=paginav><a class=prev href=https://pwndside.github.io/posts/beep-htb/><span class=title>« Prev</span><br><span>Beep</span></a>
<a class=next href=https://pwndside.github.io/posts/devel-htb/><span class=title>Next »</span><br><span>Devel</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Nibbles on twitter" href="https://twitter.com/intent/tweet/?text=Nibbles&amp;url=https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f&amp;hashtags=web%2cprivesc%2clinux"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nibbles on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f&amp;title=Nibbles&amp;summary=Nibbles&amp;source=https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nibbles on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f&title=Nibbles"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nibbles on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nibbles on whatsapp" href="https://api.whatsapp.com/send?text=Nibbles%20-%20https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nibbles on telegram" href="https://telegram.me/share/url?text=Nibbles&amp;url=https%3a%2f%2fpwndside.github.io%2fposts%2fnibbles-htb%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://pwndside.github.io/>PwndSide</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>